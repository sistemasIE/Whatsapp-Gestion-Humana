import{a as y}from"./chunk-OC6YCXVP.js";import{h as H,i as S,l as k,q as T,r as w,u as O,x as B}from"./chunk-YPUWGHW6.js";import{a as f}from"./chunk-ARVTP27M.js";import{$a as v,Da as g,Ia as u,Oa as _,Qa as i,Ra as o,Ta as x,Wa as d,X as C,Xa as p,Y as h,Ya as a,Za as s,ab as I,bb as E,ua as l,za as b}from"./chunk-N26TRWMU.js";function M(r,t){if(r&1&&(i(0,"span"),a(1),o()),r&2){let e=p();l(),s(e.ascendente?"\u25B2":"\u25BC")}}function P(r,t){if(r&1&&(i(0,"span"),a(1),o()),r&2){let e=p();l(),s(e.ascendente?"\u25B2":"\u25BC")}}function D(r,t){if(r&1&&(i(0,"span"),a(1),o()),r&2){let e=p();l(),s(e.ascendente?"\u25B2":"\u25BC")}}function L(r,t){if(r&1&&(i(0,"span"),a(1),o()),r&2){let e=p();l(),s(e.ascendente?"\u25B2":"\u25BC")}}function A(r,t){if(r&1){let e=x();i(0,"tr")(1,"td"),a(2),o(),i(3,"td"),a(4),o(),i(5,"td"),a(6),o(),i(7,"td"),a(8),o(),i(9,"td")(10,"button",7),d("click",function(){let m=C(e).$implicit,c=p();return h(c.revisar(m.idReclutamiento))}),a(11," Aceptar "),o(),i(12,"button",8),d("click",function(){let m=C(e).$implicit,c=p();return h(c.descartar(m.idReclutamiento))}),a(13," Descartar "),o()()()}if(r&2){let e=t.$implicit;l(2),s(e.nombre),l(2),s(e.telefono),l(2),s(e.ciudad),l(2),s(e.cargo)}}var R=class r{constructor(t){this.http=t}reclutamientos=[];orden="nombre";ascendente=!0;busqueda="";reclutamientosOriginal=[];ngOnInit(){this.cargarReclutamientos()}cargarReclutamientos(){this.http.get(`${f.API_URL}/reclutamiento`).subscribe(t=>{this.reclutamientosOriginal=t.data,this.filtrarYOrdenar()})}filtrarYOrdenar(){let t=this.busqueda.toLowerCase();this.reclutamientos=this.reclutamientosOriginal.filter(e=>[e.nombre,e.telefono,e.ciudad].some(n=>n?.toLowerCase().includes(t))).sort((e,n)=>{let m=e[this.orden]?.toLowerCase?.()||"",c=n[this.orden]?.toLowerCase?.()||"";return this.ascendente?m.localeCompare(c):c.localeCompare(m)})}ordenarPor(t){this.orden===t?this.ascendente=!this.ascendente:(this.orden=t,this.ascendente=!0),this.filtrarYOrdenar()}revisar(t){this.http.put(`${f.API_URL}/reclutamiento/${t}`,{revisado:1}).subscribe(()=>this.cargarReclutamientos())}descartar(t){this.http.delete(`${f.API_URL}/reclutamiento/${t}`).subscribe(()=>this.cargarReclutamientos())}static \u0275fac=function(e){return new(e||r)(b(y))};static \u0275cmp=g({type:r,selectors:[["app-home"]],decls:23,vars:6,consts:[[1,"container","mt-4",2,"max-width","900px"],[1,"underline"],["type","text","placeholder","Buscar por nombre, tel\xE9fono o ciudad...",1,"form-control","mb-3",3,"ngModelChange","input","ngModel"],[1,"table","table-bordered","table-hover"],[2,"cursor","pointer",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"btn","btn-success","btn-sm","me-2",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"h3",1),a(2,"\u{1F4BC} Hojas de Vida"),o(),i(3,"input",2),E("ngModelChange",function(c){return I(n.busqueda,c)||(n.busqueda=c),c}),d("input",function(){return n.filtrarYOrdenar()}),o(),i(4,"table",3)(5,"thead")(6,"tr")(7,"th",4),d("click",function(){return n.ordenarPor("nombre")}),a(8," Nombre "),u(9,M,2,1,"span",5),o(),i(10,"th",4),d("click",function(){return n.ordenarPor("telefono")}),a(11," Tel\xE9fono "),u(12,P,2,1,"span",5),o(),i(13,"th",4),d("click",function(){return n.ordenarPor("ciudad")}),a(14," Ciudad "),u(15,D,2,1,"span",5),o(),i(16,"th",4),d("click",function(){return n.ordenarPor("cargo")}),a(17," Cargo "),u(18,L,2,1,"span",5),o(),i(19,"th"),a(20,"Acciones"),o()()(),i(21,"tbody"),u(22,A,14,4,"tr",6),o()()()),e&2&&(l(3),v("ngModel",n.busqueda),l(6),_("ngIf",n.orden==="nombre"),l(3),_("ngIf",n.orden==="telefono"),l(3),_("ngIf",n.orden==="ciudad"),l(3),_("ngIf",n.orden==="cargo"),l(4),_("ngForOf",n.reclutamientos))},dependencies:[k,H,S,B,T,w,O],encapsulation:2})};export{R as HomeComponent};
